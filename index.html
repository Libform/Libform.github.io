<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æˆé•¿èŠ±å›­ | ä¸ªäººä¸»é¡µ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #f0f4f8;
            --soil-color: #8d6e63;
            --tree-trunk: #5d4037;
            --leaf-color: #66bb6a;
            --leaf-dark: #43a047;
            --accent-color: #ff7043; /* æœå®é¢œè‰² */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            font-family: 'Nunito', 'Noto Serif SC', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            position: relative;
        }

        /* --- UI æ§ä»¶åŒºåŸŸ --- */
        .ui-controls {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 100;
            transition: opacity 0.5s;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .water-btn {
            background: #29b6f6;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(41, 182, 246, 0.4);
            transition: transform 0.2s, background 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
        }

        .water-btn:hover { transform: scale(1.05); background: #039be5; }
        .water-btn:active { transform: scale(0.95); }
        .water-btn.disabled { opacity: 0; pointer-events: none; }

        /* --- æ ‘çš„å®¹å™¨ --- */
        .garden-container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 50px; /* åœ°é¢é«˜åº¦ */
        }

        /* åœ°é¢ */
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100px;
            background: #e0e0e0;
            border-top: 1px solid #dcdcdc;
            z-index: 1;
        }

        /* æ ‘å¹² (SVG ç»˜åˆ¶) */
        .tree {
            position: relative;
            width: 400px;
            height: 500px;
            z-index: 2;
            transition: transform 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-origin: bottom center;
            transform: scale(0.2); /* åˆå§‹çŠ¶æ€ï¼šå°æ ‘è‹— */
        }

        .trunk {
            fill: var(--tree-trunk);
            width: 100%;
            height: 100%;
        }

        /* æ ‘å¶ç»„ */
        .leaves {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s 0.5s;
        }

        .tree.grown {
            transform: scale(1); /* é•¿å¤§çŠ¶æ€ */
        }
        .tree.grown .leaves {
            opacity: 1;
        }

        /* --- æœå® (ä¹Ÿæ˜¯æŒ‰é’®) --- */
        .fruit {
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 3;
            transform: scale(0); /* åˆå§‹ä¸å¯è§ */
            transition: transform 0.5s;
        }

        /* æœå®ä¸Šé¢çš„å¶å­è£…é¥° */
        .fruit::after {
            content: '';
            position: absolute;
            top: -5px;
            width: 20px;
            height: 10px;
            background: var(--leaf-dark);
            border-radius: 10px 0 10px 0;
        }

        /* æœå®ä½ç½® */
        .f1 { top: 120px; left: 80px; transition-delay: 1.6s; }
        .f2 { top: 80px; left: 200px; transition-delay: 1.8s; }
        .f3 { top: 150px; left: 300px; transition-delay: 2.0s; }

        /* é•¿å‡ºæœå® */
        .tree.bloomed .fruit {
            transform: scale(1);
        }

        /* æ‰è½åŠ¨ç”» */
        @keyframes dropToGround {
            0% { top: var(--start-top); transform: rotate(0deg); }
            60% { top: 460px; transform: rotate(10deg); } /* æ’å‡»åœ°é¢ */
            70% { top: 440px; transform: rotate(-5deg); } /* å¼¹è·³ */
            100% { top: 460px; transform: rotate(0deg); } /* åœåœ¨åœ°é¢ */
        }

        .fruit.dropped {
            animation: dropToGround 1s forwards cubic-bezier(0.6, 0.04, 0.98, 0.335);
            /* æ‰è½åå˜æˆå¯äº¤äº’çš„æŒ‰é’®çŠ¶æ€ */
            cursor: pointer;
        }
        
        .fruit.dropped:hover {
            transform: scale(1.1) translateY(-5px);
            background: #ff8a65;
        }

        /* --- å¼¹çª—å¡ç‰‡ --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .card {
            background: white;
            padding: 40px;
            width: 90%;
            max-width: 500px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            text-align: center;
            transform: translateY(20px);
            transition: transform 0.3s;
            position: relative;
        }

        .modal-overlay.active .card {
            transform: translateY(0);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        .card h2 { margin-bottom: 15px; color: var(--tree-trunk); }
        .card p { color: #666; line-height: 1.8; margin-bottom: 20px; }
        .card-icon { font-size: 3rem; margin-bottom: 15px; display: block; }
        
        /* æµ‡æ°´åŠ¨ç”»ç‰¹æ•ˆ */
        .water-drop {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #29b6f6;
            border-radius: 50%;
            pointer-events: none;
            z-index: 50;
        }

    </style>
</head>
<body>

    <div class="ui-controls" id="uiControls">
        <h1>ä½ å¥½ï¼Œæˆ‘æ˜¯ [ä½ çš„åå­—]</h1>
        <p style="color:#666; margin-bottom: 20px;">è¿™é‡Œæ˜¯ä¸€é¢—å……æ»¡å¯èƒ½æ€§çš„ç§å­ã€‚</p>
        <button class="water-btn" onclick="growTree()">
            <span>ğŸ’§</span> ç»™å®ƒæµ‡æ°´
        </button>
    </div>

    <div class="garden-container">
        <div class="tree" id="myTree">
            <svg class="trunk" viewBox="0 0 200 300" preserveAspectRatio="none">
                <path d="M90,300 Q80,200 60,150 Q40,100 20,80" fill="none" stroke="#5d4037" stroke-width="15" stroke-linecap="round"/>
                <path d="M110,300 Q120,200 140,150 Q160,100 180,80" fill="none" stroke="#5d4037" stroke-width="15" stroke-linecap="round"/>
                <path d="M100,300 L100,100" fill="none" stroke="#5d4037" stroke-width="20" stroke-linecap="round"/>
            </svg>
            
            <div class="leaves">
                <div style="position:absolute; top:20px; left:0px; width:120px; height:120px; background:#66bb6a; border-radius:50%; opacity:0.8;"></div>
                <div style="position:absolute; top:-20px; left:80px; width:150px; height:150px; background:#43a047; border-radius:50%; opacity:0.9;"></div>
                <div style="position:absolute; top:30px; left:140px; width:110px; height:110px; background:#81c784; border-radius:50%; opacity:0.8;"></div>
            </div>

            <div class="fruit f1" onclick="openModal('about')" style="--start-top: 120px;">
                ç»å†
            </div>
            <div class="fruit f2" onclick="openModal('skills')" style="--start-top: 80px;">
                æŠ€èƒ½
            </div>
            <div class="fruit f3" onclick="openModal('contact')" style="--start-top: 150px;">
                è”ç³»
            </div>
        </div>

        <div class="ground"></div>
    </div>

    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="card" id="card-about" style="display:none;">
            <span class="close-btn" onclick="forceClose()">Ã—</span>
            <span class="card-icon">ğŸ“–</span>
            <h2>æˆ‘çš„ç»å†</h2>
            <p>è¿™é‡Œå¯ä»¥å†™ä½ çš„ä¸ªäººç®€ä»‹ã€‚</p>
            <p>ä¾‹å¦‚ï¼šæˆ‘æœ‰5å¹´çš„UIè®¾è®¡ç»éªŒï¼Œæ›¾å‚ä¸è¿‡æŸæŸAPPçš„ä»0åˆ°1å¼€å‘ï¼Œçƒ­è¡·äºæ¢ç´¢äººæœºäº¤äº’çš„æ–°è¾¹ç•Œã€‚</p>
        </div>

        <div class="card" id="card-skills" style="display:none;">
            <span class="close-btn" onclick="forceClose()">Ã—</span>
            <span class="card-icon">ğŸ¨</span>
            <h2>æ ¸å¿ƒæŠ€èƒ½</h2>
            <p>Figma, Sketch, Adobe Creative Suite</p>
            <p>HTML/CSS åŸºç¡€, Three.js æ¢ç´¢</p>
            <p>ç”¨æˆ·ä½“éªŒç ”ç©¶ & äº¤äº’åŸå‹è®¾è®¡</p>
        </div>

        <div class="card" id="card-contact" style="display:none;">
            <span class="close-btn" onclick="forceClose()">Ã—</span>
            <span class="card-icon">ğŸ“¬</span>
            <h2>è”ç³»æˆ‘</h2>
            <p>æœŸå¾…ä¸æ‚¨åˆä½œåˆ›é€ æœ‰è¶£çš„é¡¹ç›®ã€‚</p>
            <a href="mailto:yourname@example.com" style="color: #29b6f6; font-weight: bold; text-decoration: none;">yourname@example.com</a>
        </div>
    </div>

    <script>
        let step = 0;
        const tree = document.getElementById('myTree');
        const btn = document.querySelector('.water-btn');
        const uiText = document.querySelector('.ui-controls h1');

        function growTree() {
            if(step === 0) {
                // ç¬¬ä¸€æ­¥ï¼šæµ‡æ°´åŠ¨ç”» & é•¿å¤§
                createWaterDrops();
                
                setTimeout(() => {
                    tree.classList.add('grown'); // æ ‘å˜å¤§
                    btn.innerHTML = '<span>â˜€ï¸</span> ä¿ƒè¿›å¼€èŠ±'; // æ”¹å˜æŒ‰é’®æ–‡æ¡ˆ
                    uiText.innerText = "å®ƒæ­£åœ¨èŒå£®æˆé•¿...";
                    step++;
                }, 500);
            } 
            else if (step === 1) {
                // ç¬¬äºŒæ­¥ï¼šå¼€èŠ±ç»“æœ
                tree.classList.add('bloomed'); // æœå®å‡ºç°
                btn.innerHTML = '<span>ğŸ</span> æ”¶è·æœå®';
                uiText.innerText = "çœ‹ï¼å®ƒç»“æœäº†ï¼";
                step++;
            }
            else if (step === 2) {
                // ç¬¬ä¸‰æ­¥ï¼šæœå®æ‰è½
                const fruits = document.querySelectorAll('.fruit');
                
                uiText.innerText = "ç‚¹å‡»åœ°ä¸Šçš„æœå®çœ‹çœ‹å§";
                btn.classList.add('disabled'); // éšè—æŒ‰é’®

                // ä¾æ¬¡æ‰è½
                fruits.forEach((f, index) => {
                    setTimeout(() => {
                        f.classList.add('dropped');
                    }, index * 300);
                });
                step++;
            }
        }

        // ç®€å•çš„ç²’å­ç‰¹æ•ˆï¼šç”Ÿæˆæ°´æ»´
        function createWaterDrops() {
            const btnRect = btn.getBoundingClientRect();
            for(let i=0; i<10; i++) {
                let drop = document.createElement('div');
                drop.classList.add('water-drop');
                document.body.appendChild(drop);
                
                let startX = btnRect.left + btnRect.width/2;
                let startY = btnRect.top;

                drop.style.left = startX + 'px';
                drop.style.top = startY + 'px';

                // éšæœºæ´’è½
                let randomX = (Math.random() - 0.5) * 100;
                
                drop.animate([
                    { transform: `translate(0, 0)`, opacity: 1 },
                    { transform: `translate(${randomX}px, 200px)`, opacity: 0 }
                ], {
                    duration: 800,
                    easing: 'ease-in'
                }).onfinish = () => drop.remove();
            }
        }

        // å¼¹çª—é€»è¾‘
        const overlay = document.getElementById('modalOverlay');
        const cards = document.querySelectorAll('.card');

        function openModal(type) {
            // åªæœ‰æ‰è½åæ‰èƒ½ç‚¹å‡» (é€šè¿‡æ£€æµ‹class)
            const fruit = document.querySelector('.fruit.dropped');
            if(!fruit && step < 3) return; 

            // éšè—æ‰€æœ‰å¡ç‰‡
            cards.forEach(c => c.style.display = 'none');
            // æ˜¾ç¤ºå¯¹åº”å¡ç‰‡
            document.getElementById('card-' + type).style.display = 'block';
            overlay.classList.add('active');
        }

        function closeModal(e) {
            if(e.target === overlay) {
                overlay.classList.remove('active');
            }
        }
        
        function forceClose() {
             overlay.classList.remove('active');
        }
    </script>
</body>
</html>
